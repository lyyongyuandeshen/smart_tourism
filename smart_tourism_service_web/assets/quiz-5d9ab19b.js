import{d as ce,ce as de,E as pe,bN as ve,bR as fe,c as g,r as c,j as _e,l as me,p as ge,o as l,b as o,g as i,e as d,a as p,v as n,w as f,B as q,x as b,F as y,q as h,M as ye,t as P,O as R,K as he,D as be}from"./index-9ac666b4.js";import{N as E,a as G}from"./RadioGroup-774e3b11.js";import{N as we,a as xe}from"./Checkbox-35a77930.js";import{N as Ce}from"./Progress-d9ba84cb.js";import"./get-slot-1efb97e5.js";const ke={class:"quiz-page h-full flex flex-col bg-gray-50"},qe={class:"quiz-header px-6 py-4 border-b border-gray-200 bg-white"},Ae={class:"flex items-center justify-between"},je={class:"flex items-center gap-4"},Se={class:"flex flex-col"},ze={class:"quiz-title text-lg font-semibold text-gray-800"},Ne={class:"quiz-info text-sm text-gray-500"},Be={class:"flex items-center gap-3"},Qe={class:"quiz-content flex-1 flex overflow-hidden bg-gray-50"},Te={class:"question-area flex-1 overflow-y-auto p-6 bg-white"},$e={key:0,class:"question-container"},Me={class:"question-type mb-4"},Pe={class:"question-content"},Re={class:"question-text mb-4"},De={class:"question-number"},Ue={key:0,class:"question-image mb-6"},Fe={key:1,class:"question-options"},Ve={class:"option-label"},Le={key:2,class:"question-options"},Xe={class:"option-label"},Ee={key:3,class:"question-options"},Ge={class:"option-label"},Je={key:4,class:"question-fill"},Ke={class:"next-button-container"},Oe={class:"answer-card w-80 border-l border-gray-200 overflow-y-auto"},He={class:"p-4"},We={class:"timer-section mb-6"},Ye={class:"flex items-center justify-between mb-2"},Ze={class:"timer-value text-sm font-semibold text-red-500"},Ie={class:"question-type-section mb-6"},et={class:"question-grid"},tt=["onClick"],st={class:"question-type-section mb-6"},it={class:"question-grid"},lt=["onClick"],ot={class:"question-type-section mb-6"},nt={class:"question-grid"},at=["onClick"],ut={class:"question-type-section mb-6"},rt={class:"question-grid"},ct=["onClick"],v=5,_=5,w=4,D=4,dt=ce({__name:"quiz",setup(pt){const U=de(),F=pe(),J=ve(),V=fe(),z=g(()=>V.params.title||"XXX非遗技艺"),L=g(()=>V.params.id||""),K=c(Array.from({length:v},(t,s)=>s+1)),O=c(Array.from({length:_},(t,s)=>s+1)),H=c(Array.from({length:w},(t,s)=>s+1)),W=c(Array.from({length:D},(t,s)=>s+1)),Y=c(100),x=g(()=>v+_+w+D),A=c([]),Z=()=>{const t=[];if(L.value==="1"||z.value.includes("剪纸"))t.push({id:1,type:"single",title:"剪纸艺术起源于哪个朝代？",score:5,difficulty:"medium",options:["汉代","唐代","宋代","明代"],answer:"A"},{id:2,type:"single",title:"剪纸的主要工具是什么？",score:5,difficulty:"low",options:["剪刀和刻刀","画笔和颜料","针和线","锤子和凿子"],answer:"A"},{id:3,type:"single",title:'中国剪纸艺术被联合国教科文组织列入"人类非物质文化遗产代表作名录"是在哪一年？',score:5,difficulty:"high",options:["2006年","2009年","2012年","2015年"],answer:"B"},{id:4,type:"single",title:"剪纸中最常见的对称形式是什么？",score:5,difficulty:"medium",options:["轴对称","中心对称","旋转对称","平移对称"],answer:"A"},{id:5,type:"single",title:'"窗花"是剪纸的一种形式，主要用于什么场合？',score:5,difficulty:"low",options:["春节装饰","婚礼装饰","葬礼装饰","商业广告"],answer:"A"}),t.push({id:6,type:"multiple",title:"剪纸艺术的主要特点包括哪些？",score:5,difficulty:"medium",options:["线条流畅","构图饱满","色彩丰富","寓意深刻"],answer:["A","B","D"]},{id:7,type:"multiple",title:"剪纸的常见题材有哪些？",score:5,difficulty:"low",options:["花鸟鱼虫","人物故事","神话传说","现代科技"],answer:["A","B","C"]},{id:8,type:"multiple",title:"剪纸的制作技法主要包括哪些？",score:5,difficulty:"medium",options:["剪","刻","撕","烫"],answer:["A","B"]},{id:9,type:"multiple",title:"中国剪纸的主要流派有哪些？",score:5,difficulty:"high",options:["河北蔚县剪纸","陕西剪纸","山东剪纸","广东剪纸"],answer:["A","B","C"]},{id:10,type:"multiple",title:"剪纸作品在传统文化中的象征意义包括哪些？",score:5,difficulty:"medium",options:["吉祥如意","驱邪避灾","祈福纳祥","装饰美化"],answer:["A","B","C","D"]}),t.push({id:11,type:"judge",title:"剪纸艺术是中国独有的传统艺术形式。",score:5,difficulty:"medium",options:["对","错"],answer:"错"},{id:12,type:"judge",title:"剪纸只能使用红色纸张制作。",score:5,difficulty:"low",options:["对","错"],answer:"错"},{id:13,type:"judge",title:"剪纸艺术在民间主要用于节庆装饰和婚丧嫁娶等场合。",score:5,difficulty:"low",options:["对","错"],answer:"对"},{id:14,type:"judge",title:"现代剪纸艺术已经不再局限于传统题材，也开始表现现代生活。",score:5,difficulty:"low",options:["对","错"],answer:"对"}),t.push({id:15,type:"fill",title:"剪纸艺术的基本技法包括剪、刻、______等。",score:5,difficulty:"medium",answer:"撕"},{id:16,type:"fill",title:"剪纸作品中最常见的颜色是______色。",score:5,difficulty:"low",answer:"红"},{id:17,type:"fill",title:"剪纸艺术在______年被列入国家级非物质文化遗产名录。",score:5,difficulty:"high",answer:"2006"},{id:18,type:"fill",title:"剪纸的构图原则强调______和饱满。",score:5,difficulty:"medium",answer:"对称"});else{for(let e=1;e<=v;e++)t.push({id:e,type:"single",title:"题干内容题干内容题干内容题干内容题干内容题干内容题干内容容题干内容题干内容",score:5,difficulty:"high",options:["选项1","选项2","选项3","选项4"]});for(let e=1;e<=_;e++)t.push({id:e,type:"multiple",title:"题干内容题干内容题干内容题干内容题干内容题干内容题干内容容题干内容题干内容",score:5,difficulty:"high",options:["选项1","选项2","选项3","选项4"]});for(let e=1;e<=w;e++)t.push({id:e,type:"judge",title:"题干内容题干内容题干内容题干内容题干内容题干内容题干内容容题干内容题干内容",score:5,difficulty:"high",options:["对","错"]});for(let e=1;e<=D;e++)t.push({id:e,type:"fill",title:"题干内容题干内容题干内容题干内容题干内容题干内容题干内容容题干内容题干内容",score:5,difficulty:"high"})}A.value=t},N=c({}),a=c(1),u=g(()=>A.value[a.value-1]),m=g({get:()=>{var t;return N.value[a.value]||(((t=u.value)==null?void 0:t.type)==="multiple"?[]:"")},set:t=>{N.value[a.value]=t,I(a.value)}}),B=c(new Set),Q=c(new Set),T=c(new Set),$=c(new Set),I=t=>{const s=A.value[t-1];if(!s)return;const e=ee(t,s.type);switch(s.type){case"single":B.value.add(e);break;case"multiple":Q.value.add(e);break;case"judge":T.value.add(e);break;case"fill":$.value.add(e);break}},ee=(t,s)=>{switch(s){case"single":return t;case"multiple":return t-v;case"judge":return t-v-_;case"fill":return t-v-_-w;default:return t}},C=c(5*60),k=c(null),te=g(()=>{const t=Math.floor(C.value/60),s=C.value%60;return`${String(t).padStart(2,"0")}:${String(s).padStart(2,"0")}`}),se=g(()=>C.value/300*100),ie=()=>{J.back()},le=()=>{U.warning({title:"确认保存",content:"确定要保存当前答题进度吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{console.log("保存答案"),F.success("答案已保存")}})},M=()=>{const t=B.value.size+Q.value.size+T.value.size+$.value.size;U.warning({title:"确认交卷",content:`您已完成 ${t} 题，共 ${x.value} 题。确定要交卷吗？交卷后将无法继续答题。`,positiveText:"确定交卷",negativeText:"取消",onPositiveClick:()=>{console.log("交卷"),F.success("交卷成功")}})},X=t=>{m.value=t},oe=t=>{m.value=t.map(s=>String(s))},ne=t=>{m.value=t},j=(t,s)=>{let e=0;switch(s){case"single":e=t;break;case"multiple":e=v+t;break;case"judge":e=v+_+t;break;case"fill":e=v+_+w+t;break}a.value=e},ae=()=>{a.value<x.value?a.value++:M()},S=(t,s)=>{switch(s){case"single":return B.value.has(t);case"multiple":return Q.value.has(t);case"judge":return T.value.has(t);case"fill":return $.value.has(t);default:return!1}},ue=t=>{switch(t){case"single":return"单选题";case"multiple":return"多选题";case"judge":return"判断题";case"fill":return"填空题"}};_e(a,t=>{A.value[t-1]&&N.value[t]});const re=()=>{k.value=setInterval(()=>{C.value>0?C.value--:(k.value&&clearInterval(k.value),M())},1e3)};return me(()=>{Z(),re(),console.log("加载答题页面:",L.value,z.value)}),ge(()=>{k.value&&clearInterval(k.value)}),(t,s)=>(l(),o("div",ke,[i("div",qe,[i("div",Ae,[i("div",je,[i("button",{onClick:ie,class:"back-icon-button"},[d(p(ye),{icon:"ri:arrow-left-line",class:"back-icon"})]),i("div",Se,[i("h1",ze,n(z.value)+"文化问答 ",1),i("div",Ne,[i("span",null,"试卷总分 "+n(Y.value)+"分",1),s[0]||(s[0]=i("span",{class:"mx-2"},"|",-1)),i("span",null,"题目数: "+n(x.value),1)])])]),i("div",Be,[d(p(R),{onClick:le,class:"save-button"},{default:f(()=>s[1]||(s[1]=[P(" 保存 ")])),_:1}),d(p(R),{type:"primary",onClick:M,class:"submit-button"},{default:f(()=>s[2]||(s[2]=[P(" 交卷 ")])),_:1})])])]),i("div",Qe,[i("div",Te,[s[5]||(s[5]=i("h2",{class:"section-title text-xl font-semibold mb-6 text-gray-800"}," 文化问答 ",-1)),u.value?(l(),o("div",$e,[i("div",Me,[i("span",{class:q(["type-badge",`type-${u.value.type}`])},n(ue(u.value.type)),3)]),i("div",Pe,[i("div",Re,[s[3]||(s[3]=i("span",{class:"question-mark"},"*",-1)),i("span",De,n(a.value)+".",1),i("span",null,n(u.value.title)+"["+n(u.value.score)+"分]",1)]),u.value.type==="single"?(l(),o("div",Ue,s[4]||(s[4]=[i("div",{class:"image-placeholder"},[i("div",{class:"placeholder-content"},[i("div",{class:"aspect-ratio-text"},"1:1"),i("div",{class:"placeholder-text"},"Replace with image")])],-1)]))):b("",!0),u.value.type==="single"?(l(),o("div",Fe,[d(p(G),{value:m.value,"onUpdate:value":X},{default:f(()=>[(l(!0),o(y,null,h(u.value.options,(e,r)=>(l(),o("div",{class:"option-item",key:r},[d(p(E),{value:String.fromCharCode(65+r),class:"option-radio"},{default:f(()=>[i("span",Ve,n(String.fromCharCode(65+r))+". "+n(e),1)]),_:2},1032,["value"])]))),128))]),_:1},8,["value"])])):b("",!0),u.value.type==="multiple"?(l(),o("div",Le,[d(p(xe),{value:m.value||[],"onUpdate:value":oe},{default:f(()=>[(l(!0),o(y,null,h(u.value.options,(e,r)=>(l(),o("div",{class:"option-item",key:r},[d(p(we),{value:String.fromCharCode(65+r),class:"option-checkbox"},{default:f(()=>[i("span",Xe,n(String.fromCharCode(65+r))+". "+n(e),1)]),_:2},1032,["value"])]))),128))]),_:1},8,["value"])])):b("",!0),u.value.type==="judge"?(l(),o("div",Ee,[d(p(G),{value:m.value,"onUpdate:value":X},{default:f(()=>[(l(!0),o(y,null,h(u.value.options,(e,r)=>(l(),o("div",{class:"option-item",key:r},[d(p(E),{value:r===0?"对":"错",class:"option-radio"},{default:f(()=>[i("span",Ge,n(e),1)]),_:2},1032,["value"])]))),128))]),_:1},8,["value"])])):b("",!0),u.value.type==="fill"?(l(),o("div",Je,[d(p(he),{value:m.value,"onUpdate:value":ne,placeholder:"请在此处填写答案",class:"fill-input",clearable:""},null,8,["value"])])):b("",!0)])])):b("",!0),i("div",Ke,[d(p(R),{type:"primary",size:"large",onClick:ae,class:"next-button",disabled:a.value>=x.value},{default:f(()=>[P(n(a.value>=x.value?"已是最后一题":"下一题"),1)]),_:1},8,["disabled"])])]),i("div",Oe,[i("div",He,[s[11]||(s[11]=i("h3",{class:"card-title text-lg font-semibold mb-4 text-gray-800"}," 答题卡 ",-1)),i("div",We,[i("div",Ye,[s[6]||(s[6]=i("span",{class:"timer-label text-sm text-gray-600"},"剩余时间",-1)),i("span",Ze,n(te.value),1)]),d(p(Ce),{percentage:se.value,"show-indicator":!1,status:"error",class:"timer-progress"},null,8,["percentage"])]),i("div",Ie,[s[7]||(s[7]=i("div",{class:"type-title text-sm font-semibold mb-3 text-gray-700"}," 单选题 ",-1)),i("div",et,[(l(!0),o(y,null,h(K.value,e=>(l(),o("div",{key:e,class:q(["question-number",{answered:S(e,"single"),current:a.value===e}]),onClick:r=>j(e,"single")},n(e),11,tt))),128))])]),i("div",st,[s[8]||(s[8]=i("div",{class:"type-title text-sm font-semibold mb-3 text-gray-700"}," 多选题 ",-1)),i("div",it,[(l(!0),o(y,null,h(O.value,e=>(l(),o("div",{key:e,class:q(["question-number",{answered:S(e,"multiple"),current:a.value===v+e}]),onClick:r=>j(e,"multiple")},n(e),11,lt))),128))])]),i("div",ot,[s[9]||(s[9]=i("div",{class:"type-title text-sm font-semibold mb-3 text-gray-700"}," 判断题 ",-1)),i("div",nt,[(l(!0),o(y,null,h(H.value,e=>(l(),o("div",{key:e,class:q(["question-number",{answered:S(e,"judge"),current:a.value===v+_+e}]),onClick:r=>j(e,"judge")},n(e),11,at))),128))])]),i("div",ut,[s[10]||(s[10]=i("div",{class:"type-title text-sm font-semibold mb-3 text-gray-700"}," 填空题 ",-1)),i("div",rt,[(l(!0),o(y,null,h(W.value,e=>(l(),o("div",{key:e,class:q(["question-number",{answered:S(e,"fill"),current:a.value===v+_+w+e}]),onClick:r=>j(e,"fill")},n(e),11,ct))),128))])])])])])]))}});const yt=be(dt,[["__scopeId","data-v-634bd997"]]);export{yt as default};
