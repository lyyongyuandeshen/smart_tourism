import{d as z,bR as S,bS as y,r as p,a2 as P,n as g,a4 as T,$ as C,o as U,c as L,b as l,ab as d,R as n,w as r,bU as D,a as s,N as Q,aS as R,ac as B,ah as $,a5 as j,a6 as I,bW as M,b6 as V}from"./index-fc2ca07d.js";import{N as E}from"./Space-29132ab6.js";import{N as K}from"./DataTable-2e69da2a.js";import{N as W}from"./Pagination-078592c4.js";import"./Forward-86f34074.js";const A={class:"activity-container"},F={class:"filter-section"},H={class:"filter-content"},O={class:"filter-item"},q={class:"filter-item"},G={class:"filter-actions"},J={class:"content-section"},X={class:"content-wrapper"},Y={class:"table-container"},Z={class:"table-wrapper"},ee={class:"pagination-wrapper"},te={class:"total-count"},ae=z({__name:"index",setup(se){const u=S(),o=y({keyword:null,status:null}),h=p([{label:"全部状态",value:"all"},{label:"已通过",value:"approved"},{label:"审核中",value:"reviewing"},{label:"已驳回",value:"rejected"}]);P();const f=p([{id:1,activityName:"春季徒步活动",totalQuota:100,maxPerPerson:2,ageLimit:"18-60",memberThreshold:"等级1",activityTime:"2024-03-20 09:00:00",status:"approved"},{id:2,activityName:"亲子游园会",totalQuota:200,maxPerPerson:4,ageLimit:"3-50",memberThreshold:"等级2",activityTime:"2024-03-25 10:00:00",status:"reviewing"},{id:3,activityName:"摄影大赛",totalQuota:50,maxPerPerson:1,ageLimit:"15-65",memberThreshold:"无限制",activityTime:"2024-04-01 14:00:00",status:"approved"},{id:4,activityName:"音乐节",totalQuota:500,maxPerPerson:5,ageLimit:"18-45",memberThreshold:"等级3",activityTime:"2024-04-15 18:00:00",status:"rejected"},{id:5,activityName:"美食节",totalQuota:300,maxPerPerson:3,ageLimit:"不限",memberThreshold:"无限制",activityTime:"2024-05-01 11:00:00",status:"approved"},{id:6,activityName:"瑜伽体验课",totalQuota:30,maxPerPerson:1,ageLimit:"20-55",memberThreshold:"等级1",activityTime:"2024-03-22 08:00:00",status:"reviewing"}]),m=p([]),w={approved:{label:"已通过",color:"#52c41a"},reviewing:{label:"审核中",color:"#1890ff"},rejected:{label:"已驳回",color:"#ff4d4f"}},_=p((()=>[{type:"selection"},{title:"活动名称",key:"activityName",width:180},{title:"总名额限制",key:"totalQuota",width:120},{title:"单人最大报名数",key:"maxPerPerson",width:150},{title:"年龄限制",key:"ageLimit",width:120},{title:"会员门槛",key:"memberThreshold",width:120},{title:"活动时间",key:"activityTime",width:180},{title:"状态",key:"status",width:120,render:t=>{const e=w[t.status];return r("div",{class:"status-cell",style:"display: inline-flex; align-items: center; gap: 6px;"},[r("span",{class:"status-dot",style:{width:"8px",height:"8px",minWidth:"8px",minHeight:"8px",borderRadius:"50%",display:"inline-block",flexShrink:"0",backgroundColor:e.color}}),r("span",{class:"status-text",style:"font-size: 14px; color: #333;"},e.label)])}},{title:"操作",key:"actions",width:150,render:t=>r("div",{class:"action-cell",style:"display: inline-flex; align-items: center; gap: 8px;"},[r("span",{class:"action-link detail",style:{fontSize:"14px",color:"#1890ff",cursor:"pointer"},onClick:()=>b(t)},"详情"),r("span",{class:"action-divider",style:{color:"#d9d9d9"}},"|"),r("span",{class:"action-link edit",style:{fontSize:"14px",color:"#1890ff",cursor:"pointer"},onClick:()=>N(t)},"编辑")])}])()),a=y({page:1,pageSize:10,itemCount:0,pageSizes:[10,20,30,50],showSizePicker:!0,onUpdatePage:t=>{a.page=t,c()},onUpdatePageSize:t=>{a.pageSize=t,a.page=1,c()}}),c=()=>{a.itemCount=v.value.length},v=g(()=>{let t=f.value;if(o.keyword&&o.keyword.trim()){const e=o.keyword.trim().toLowerCase();t=t.filter(i=>i.activityName.toLowerCase().includes(e))}return o.status&&o.status!=="all"&&(t=t.filter(e=>e.status===o.status)),t}),k=g(()=>{const t=(a.page-1)*a.pageSize,e=t+a.pageSize;return v.value.slice(t,e)}),x=()=>{u.push("/activity/form")},b=t=>{u.push(`/activity/detail?id=${t.id}`)},N=t=>{u.push(`/activity/form?id=${t.id}`)};return T(()=>[o.keyword,o.status],()=>{a.page=1,c()}),C(()=>{c()}),(t,e)=>(U(),L("div",A,[l(n(M),{"has-sider":"",class:"h-full w-full"},{default:d(()=>[l(n(D),{class:"h-full flex flex-col"},{default:d(()=>[e[6]||(e[6]=s("div",{class:"header-section"},[s("div",{class:"header-title"},"活动管理"),s("div",{class:"header-placeholder"})],-1)),s("div",F,[s("div",H,[l(n(E),{size:16,align:"center",wrap:""},{default:d(()=>[s("div",O,[l(n(Q),{value:o.keyword,"onUpdate:value":e[0]||(e[0]=i=>o.keyword=i),placeholder:"请输入关键字",clearable:"",style:{width:"200px"}},null,8,["value"])]),s("div",q,[l(n(R),{value:o.status,"onUpdate:value":e[1]||(e[1]=i=>o.status=i),options:h.value,placeholder:"请选择状态",clearable:"",style:{width:"200px"}},null,8,["value","options"])])]),_:1})]),s("div",G,[l(n(B),{type:"primary",class:"add-btn",onClick:x},{icon:d(()=>[l(n($),{icon:"ri:add-line"})]),default:d(()=>[e[5]||(e[5]=j(" 新增活动 "))]),_:1})])]),s("div",J,[s("div",X,[s("div",Y,[s("div",Z,[l(n(K),{columns:_.value,data:k.value,pagination:!1,"row-key":i=>i.id,"checked-row-keys":m.value,"onUpdate:checkedRowKeys":e[2]||(e[2]=i=>m.value=i),striped:""},null,8,["columns","data","row-key","checked-row-keys"])]),s("div",ee,[s("span",te,"共 "+I(a.itemCount)+" 条",1),l(n(W),{page:a.page,"onUpdate:page":[e[3]||(e[3]=i=>a.page=i),a.onUpdatePage],"page-size":a.pageSize,"onUpdate:pageSize":[e[4]||(e[4]=i=>a.pageSize=i),a.onUpdatePageSize],"item-count":a.itemCount,"page-sizes":a.pageSizes,"show-size-picker":""},null,8,["page","page-size","item-count","page-sizes","onUpdate:page","onUpdate:pageSize"])])])])])]),_:1})]),_:1})]))}});const ce=V(ae,[["__scopeId","data-v-6a0f6a7f"]]);export{ce as default};
