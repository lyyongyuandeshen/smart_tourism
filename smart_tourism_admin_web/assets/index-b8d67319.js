import{d as B,a2 as N,be as G,P as L,n as m,r as k,aQ as P,o as v,c as C,a as e,a6 as r,b as t,ab as l,a5 as S,R as s,N as V,ac as U,X as M,aa as F,ah as b,aS as q,a3 as D,bb as E,aZ as O,Q as A,b8 as Q,b7 as z,a1 as j,ad as R}from"./index-fc2ca07d.js";import{N as X}from"./Upload-7895b36e.js";const Z={class:"p-4 space-y-5 min-h-[200px]"},H={class:"space-y-6"},J={class:"flex items-center space-x-4"},K={class:"flex-shrink-0 w-[100px]"},W={class:"flex items-center space-x-4"},Y={class:"flex-shrink-0 w-[100px]"},ee={class:"w-[200px]"},se={class:"flex items-center space-x-4"},ae={class:"flex-shrink-0 w-[100px]"},te={class:"flex flex-wrap items-center gap-4"},ne={class:"flex items-center space-x-4"},oe={class:"flex-shrink-0 w-[100px]"},le={class:"flex flex-wrap items-center gap-4"},ie=B({__name:"General",setup($){const g=N(),i=G(),h=L(),_=N(),x=m(()=>i.theme),f=m(()=>h.userInfo),c=k(f.value.name??""),u=m({get(){return i.language},set(a){i.setLanguage(a)}}),d=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],y=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"English",key:"en-US",value:"en-US"}];function p(a){h.updateUserInfo(a),_.success(D("common.success"))}let w=k([{id:"avatar",name:"头像预览",status:"finished",url:"https://ruoyi-ai-1254149996.cos.ap-guangzhou.myqcloud.com/2025/05/24/727370b029b648ea968977085da2b20f.jpg"}]);const I={Authorization:`Bearer ${P()}`};function T({event:a}){const n=(a==null?void 0:a.target).response;w.value[0].url=n,g.success("上传成功！")}return(a,n)=>(v(),C("div",Z,[e("div",H,[e("div",J,[e("span",K,r(a.$t("setting.avatarLink")),1),t(s(X),{action:"/api/system/user/edit/avatar",max:1,"list-type":"image-card","default-file-list":s(w),headers:I,onFinish:T},{default:l(()=>n[3]||(n[3]=[S(" 点击上传 ")])),_:1},8,["default-file-list"])]),e("div",W,[e("span",Y,r(a.$t("setting.name")),1),e("div",ee,[t(s(V),{value:c.value,"onUpdate:value":n[0]||(n[0]=o=>c.value=o),placeholder:""},null,8,["value"])]),t(s(U),{size:"tiny",text:"",type:"primary",onClick:n[1]||(n[1]=o=>p({name:c.value}))},{default:l(()=>[S(r(a.$t("common.save")),1)]),_:1})]),e("div",se,[e("span",ae,r(a.$t("setting.theme")),1),e("div",te,[(v(),C(M,null,F(d,o=>t(s(U),{key:o.key,size:"small",type:o.key===x.value?"primary":void 0,onClick:me=>s(i).setTheme(o.key)},{icon:l(()=>[t(s(b),{icon:o.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),e("div",ne,[e("span",oe,r(a.$t("setting.language")),1),e("div",le,[t(s(q),{style:{width:"140px"},value:u.value,options:y,onUpdateValue:n[2]||(n[2]=o=>s(i).setLanguage(o))},null,8,["value"])])])])]))}}),re={class:"ml-2"},ce={class:"min-h-[100px]"},ue={class:"ml-2"},de={class:"min-h-[100px]"},ve=B({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup($,{emit:g}){const i=$,h=g,_=E(),x=m(()=>!!_.isChatGPTAPI),f=k("General"),c=m({get(){return i.visible},set(u){h("update:visible",u)}});return(u,d)=>{const y=O("aiModel");return v(),A(s(R),{show:c.value,"onUpdate:show":d[1]||(d[1]=p=>c.value=p),"auto-focus":!1,preset:"card",style:{width:"100%","max-width":"1100px"}},{default:l(()=>[e("div",null,[t(s(Q),{value:f.value,"onUpdate:value":d[0]||(d[0]=p=>f.value=p),type:"line",animated:""},{default:l(()=>[t(s(z),{name:"General",tab:"General"},{tab:l(()=>[t(s(b),{class:"text-lg",icon:"ri:file-user-line"}),e("span",re,r(u.$t("setting.personal")),1)]),default:l(()=>[e("div",ce,[t(ie)])]),_:1}),x.value?(v(),A(s(z),{key:0,name:"Advanced",tab:"Advanced"},{tab:l(()=>[t(s(b),{class:"text-lg",icon:"ri:equalizer-line"}),e("span",ue,r(u.$t("setting.model")),1)]),default:l(()=>[e("div",de,[t(y)])]),_:1})):j("",!0)]),_:1},8,["value"])])]),_:1},8,["show"])}}});export{ve as default};
