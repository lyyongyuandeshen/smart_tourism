import{d as pe,a2 as ve,n as N,r as p,a4 as Be,o as i,Q as de,ab as c,R as o,b as n,ac as _,a5 as M,a as s,c as u,aa as x,N as W,aS as oe,ah as A,a1 as fe,X as b,ad as Re,b6 as he,b7 as ae,a6 as f,ai as le,a8 as Ie,b8 as je,w as P}from"./index-fc2ca07d.js";import{N as Ye}from"./Space-29132ab6.js";import{N as Le}from"./Form-97fa87e1.js";import{N as E}from"./DatePicker-f677266b.js";import{N as ue}from"./DataTable-2e69da2a.js";import{N as ce}from"./Pagination-078592c4.js";import"./Forward-86f34074.js";const Ve={class:"form-table"},Ke={class:"form-table-cell"},Oe={class:"form-table-cell"},Ee={class:"form-table-cell"},We={class:"form-table-cell"},qe={class:"form-table-cell",style:{width:"60px"}},He={class:"add-row-btn"},Qe=pe({__name:"ScheduleModal",props:{show:{type:Boolean},schedule:{default:null}},emits:["update:show","save"],setup(ne,{emit:B}){const R=ne,$=B,Y=ve(),L=N({get:()=>R.show,set:v=>$("update:show",v)}),y=p([{shiftName:"班次1",workContent:"",shiftTime:"",personnel:["人员1"]},{shiftName:"班次2",workContent:"",shiftTime:"",personnel:["人员1"]},{shiftName:"班次3",workContent:"",shiftTime:"",personnel:["人员1"]}]),S=p([{label:"人员1",value:"人员1"},{label:"人员2",value:"人员2"},{label:"人员3",value:"人员3"},{label:"人员4",value:"人员4"},{label:"人员5",value:"人员5"}]),J=()=>{y.value.push({shiftName:`班次${y.value.length+1}`,workContent:"",shiftTime:"",personnel:[]})},q=v=>{y.value.length>1?y.value.splice(v,1):Y.warning("至少保留一行")},H=(v,r)=>{y.value[r].personnel=v},Q=v=>{if(!v)return null;const r=new Date(v);return isNaN(r.getTime())?null:r.getTime()},V=(v,r)=>{if(v){const k=new Date(v),g=k.getFullYear(),d=String(k.getMonth()+1).padStart(2,"0"),Z=String(k.getDate()).padStart(2,"0"),ee=String(k.getHours()).padStart(2,"0"),te=String(k.getMinutes()).padStart(2,"0");y.value[r].shiftTime=`${g}-${d}-${Z} ${ee}:${te}`}else y.value[r].shiftTime=""},K=()=>{for(let v=0;v<y.value.length;v++){const r=y.value[v];if(!r.shiftName||!r.workContent||!r.shiftTime){Y.warning(`请完善第${v+1}行的信息`);return}}$("save",{shifts:y.value}),$("update:show",!1)},I=()=>{$("update:show",!1)};return Be(()=>R.show,v=>{v&&(R.schedule||(y.value=[{shiftName:"班次1",workContent:"",shiftTime:"",personnel:["人员1"]},{shiftName:"班次2",workContent:"",shiftTime:"",personnel:["人员1"]},{shiftName:"班次3",workContent:"",shiftTime:"",personnel:["人员1"]}]))}),(v,r)=>(i(),de(o(Re),{show:L.value,"onUpdate:show":r[0]||(r[0]=k=>L.value=k),preset:"card",title:"新增/编辑排班",class:"schedule-modal",style:{width:"900px","max-width":"90vw"},onClose:I},{footer:c(()=>[n(o(Ye),{justify:"end"},{default:c(()=>[n(o(_),{onClick:I},{default:c(()=>r[3]||(r[3]=[M("次要按钮")])),_:1}),n(o(_),{type:"primary",onClick:K},{default:c(()=>r[4]||(r[4]=[M("提交")])),_:1})]),_:1})]),default:c(()=>[n(o(Le),{"label-placement":"left","label-width":"100px"},{default:c(()=>[s("div",Ve,[r[1]||(r[1]=s("div",{class:"form-table-header"},[s("div",{class:"form-table-cell"},"班次名称"),s("div",{class:"form-table-cell"},"工作内容"),s("div",{class:"form-table-cell"},"班次时间"),s("div",{class:"form-table-cell"},"相关人员"),s("div",{class:"form-table-cell",style:{width:"60px"}},"操作")],-1)),(i(!0),u(b,null,x(y.value,(k,g)=>(i(),u("div",{key:g,class:"form-table-row"},[s("div",Ke,[n(o(W),{value:k.shiftName,"onUpdate:value":d=>k.shiftName=d,placeholder:"班次名称",size:"small"},null,8,["value","onUpdate:value"])]),s("div",Oe,[n(o(W),{value:k.workContent,"onUpdate:value":d=>k.workContent=d,placeholder:"工作内容",size:"small"},null,8,["value","onUpdate:value"])]),s("div",Ee,[n(o(E),{value:Q(k.shiftTime),type:"datetime",placeholder:"选择日期时间",size:"small",style:{width:"100%"},"onUpdate:value":d=>V(d,g)},null,8,["value","onUpdate:value"])]),s("div",We,[n(o(oe),{value:k.personnel,"onUpdate:value":[d=>k.personnel=d,d=>H(d,g)],multiple:"",tag:"",placeholder:"选择人员",options:S.value,size:"small"},null,8,["value","onUpdate:value","options"])]),s("div",qe,[y.value.length>1?(i(),de(o(_),{key:0,quaternary:"",type:"error",size:"small",onClick:d=>q(g)},{icon:c(()=>[n(o(A),{icon:"ri:close-line"})]),_:2},1032,["onClick"])):fe("",!0)])]))),128))]),s("div",He,[n(o(_),{dashed:"",onClick:J},{icon:c(()=>[n(o(A),{icon:"ri:add-line"})]),default:c(()=>[r[2]||(r[2]=M(" 添加一行 "))]),_:1})])]),_:1})]),_:1},8,["show"]))}});const Xe=he(Qe,[["__scopeId","data-v-cd21b3f5"]]),Ge={class:"scheduling-container"},Je={key:0,class:"statistics-content"},Ze={class:"statistics-header"},et={class:"metrics-row"},tt={class:"metric-label"},st={class:"metric-value"},at={class:"value-number"},lt={key:0,class:"value-unit"},ot={class:"trend-indicator"},nt={class:"charts-grid"},it={class:"chart-card"},rt={class:"chart-container"},dt={class:"line-chart",viewBox:"0 0 600 300",preserveAspectRatio:"xMidYMid meet"},ut=["y"],ct=["x"],pt=["points"],vt=["points"],ft={transform:"translate(450, 30)"},ht={x:"10",y:"4",fill:"#333","font-size":"12"},mt={x:"10",y:"24",fill:"#333","font-size":"12"},gt={class:"chart-card"},kt={class:"chart-container"},yt={class:"line-chart",viewBox:"0 0 600 300",preserveAspectRatio:"xMidYMid meet"},wt=["y"],_t=["x"],St=["points"],xt=["points"],bt={transform:"translate(450, 30)"},zt={x:"10",y:"4",fill:"#333","font-size":"12"},Dt={x:"10",y:"24",fill:"#333","font-size":"12"},Ct={class:"chart-card"},Tt={class:"chart-container donut-chart"},Nt={viewBox:"0 0 200 200",class:"donut-svg"},Mt={transform:"translate(100, 100)"},$t={x:"0",y:"15","text-anchor":"middle",fill:"#1890ff","font-size":"18","font-weight":"600"},Ut={class:"donut-legend"},Pt={class:"legend-text"},At={class:"chart-card"},Ft={class:"word-cloud"},Bt={key:1,class:"schedule-content"},Rt={class:"action-bar"},It={class:"action-left"},jt={class:"date-range"},Yt={class:"action-right"},Lt={class:"calendar-nav"},Vt={class:"current-month"},Kt={class:"calendar-wrapper"},Ot={class:"custom-calendar"},Et={class:"calendar-weekdays"},Wt={class:"calendar-grid"},qt={class:"day-number"},Ht={class:"schedule-items"},Qt={class:"attendance-content"},Xt={class:"attendance-filters"},Gt={class:"attendance-table"},Jt={class:"attendance-pagination"},Zt={class:"pagination-info"},es={class:"personnel-content"},ts={class:"personnel-filters"},ss={class:"personnel-table"},as={class:"personnel-pagination"},ls={class:"pagination-info"},os=pe({__name:"scheduling",setup(ne){const B=ve(),R=p("schedule"),$=p(!1),Y=p(""),L=p(null),y=p(null),S=p(new Date(2025,6,1)),J=[{label:"全部",value:""},{label:"正常",value:"正常"},{label:"缺勤",value:"缺勤"},{label:"早退",value:"早退"},{label:"迟到",value:"迟到"}],q=p(""),H=p(""),Q=p(null),V=p(""),K=p(""),I=p(null),v=[{label:"全部",value:""},{label:"在岗",value:"在岗"},{label:"休息",value:"休息"}],r=p([{id:"1",shiftName:"班次1",personnel:"李明",status:"正常",recordTime:"2025-03-10 12:54:21"},{id:"2",shiftName:"班次1",personnel:"张三",status:"缺勤",recordTime:"2025-03-10 12:54:21"},{id:"3",shiftName:"班次1",personnel:"王五",status:"早退",recordTime:"2025-03-10 12:54:21"},{id:"4",shiftName:"班次1",personnel:"赵六",status:"正常",recordTime:"2025-03-10 12:54:21"},{id:"5",shiftName:"班次1",personnel:"钱七",status:"迟到",recordTime:"2025-03-10 12:54:21"},{id:"6",shiftName:"班次1",personnel:"孙八",status:"缺勤",recordTime:"2025-03-10 12:54:21"},{id:"7",shiftName:"班次1",personnel:"周九",status:"正常",recordTime:"2025-03-10 12:54:21"},{id:"8",shiftName:"班次1",personnel:"吴十",status:"缺勤",recordTime:"2025-03-10 12:54:21"},{id:"9",shiftName:"班次1",personnel:"郑一",status:"正常",recordTime:"2025-03-10 12:54:21"},{id:"10",shiftName:"班次1",personnel:"王二",status:"缺勤",recordTime:"2025-03-10 12:54:21"}]),k=p([{id:"1",task:"关联系统任务",personnel:"李明",post:"清洁人员",workStatus:"在岗",workTime:"周一到周五"},{id:"2",task:"暂无任务",personnel:"李明",post:"物业人员",workStatus:"休息",workTime:"周三到周六"},{id:"3",task:"任务名称任务名称",personnel:"张三",post:"保安人员",workStatus:"休息",workTime:"周一到周五"},{id:"4",task:"暂无任务",personnel:"李明",post:"保安人员",workStatus:"在岗",workTime:"周一到周五"},{id:"5",task:"任务名称任务名称",personnel:"李明",post:"物业人员",workStatus:"休息",workTime:"周三到周六"},{id:"6",task:"任务名称任务名称",personnel:"张三",post:"清洁人员",workStatus:"休息",workTime:"周三到周六"},{id:"7",task:"暂无任务",personnel:"李明",post:"清洁人员",workStatus:"在岗",workTime:"周一到周五"},{id:"8",task:"暂无任务",personnel:"李明",post:"物业人员",workStatus:"休息",workTime:"周三到周六"},{id:"9",task:"任务名称任务名称",personnel:"张三",post:"清洁人员",workStatus:"在岗",workTime:"周一到周五"},{id:"10",task:"任务名称任务名称",personnel:"李明",post:"物业人员",workStatus:"休息",workTime:"周三到周六"},{id:"11",task:"暂无任务",personnel:"张三",post:"清洁人员",workStatus:"在岗",workTime:"周一到周五"},{id:"12",task:"任务名称任务名称",personnel:"李明",post:"物业人员",workStatus:"休息",workTime:"周三到周六"}]),g=p({page:1,pageSize:10,itemCount:50,showSizePicker:!0,pageSizes:[10,20,30,50],onChange:a=>{g.value.page=a},onUpdatePageSize:a=>{g.value.pageSize=a,g.value.page=1}}),d=p({page:1,pageSize:10,itemCount:50,showSizePicker:!0,pageSizes:[10,20,30,50],onChange:a=>{d.value.page=a},onUpdatePageSize:a=>{d.value.pageSize=a,d.value.page=1}}),Z={正常:"#52c41a",缺勤:"#ff4d4f",早退:"#fa8c16",迟到:"#fa8c16"},ee=a=>{B.info(`处理 ${a.personnel} 的考勤记录`)},te=a=>{B.info(`调整 ${a.personnel} 的排班`)},me=[{title:"班次名称",key:"shiftName",width:150},{title:"相关人员",key:"personnel",width:150},{title:"考勤状态",key:"status",width:150,render:a=>{const e=Z[a.status]||"#666";return P("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},[P("span",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:e,display:"inline-block"}}),P("span",a.status)])}},{title:"记录时间",key:"recordTime",width:200},{title:"操作",key:"actions",width:120,render:a=>P(_,{type:"primary",size:"small",onClick:()=>ee(a)},{default:()=>"处理"})}],ge=[{title:"任务安排",key:"task",width:200},{title:"人员",key:"personnel",width:120},{title:"岗位",key:"post",width:140},{title:"今天工作状态",key:"workStatus",width:160,render:a=>{const e=a.workStatus==="在岗"?"#52c41a":"#ff4d4f";return P("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},[P("span",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:e,display:"inline-block"}}),P("span",a.workStatus)])}},{title:"上班时间",key:"workTime",width:180},{title:"操作",key:"actions",width:140,render:a=>P(_,{type:"primary",size:"small",tertiary:!0,onClick:()=>te(a)},{default:()=>"排班调整"})}],O=p([{date:"2025-07-28",positions:["岗位1","岗位2"],colors:["#1890ff","#ff4d4f"]},{date:"2025-07-06",positions:["岗位3","岗位4"],colors:["#52c41a","#722ed1"]},{date:"2025-07-15",positions:["岗位1","岗位3","岗位5"],colors:["#1890ff","#52c41a","#fa8c16"]},{date:"2025-07-16",positions:["岗位2","岗位4"],colors:["#ff4d4f","#722ed1"]},{date:"2025-07-18",positions:["岗位3","岗位5"],colors:["#52c41a","#fa8c16"]}]),X=p(!1),ie=p(null),ke={岗位1:"#1890ff",岗位2:"#ff4d4f",岗位3:"#52c41a",岗位4:"#722ed1",岗位5:"#fa8c16"},G=a=>O.value.find(e=>e.date===a),j=a=>{const e=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`${e}-${t}-${l}`},ye=()=>{const a=new Date(S.value);a.setMonth(a.getMonth()-1),S.value=a},we=()=>{const a=new Date(S.value);a.setMonth(a.getMonth()+1),S.value=a},_e=()=>{S.value=new Date},Se=()=>{ie.value=null,X.value=!0},xe=()=>{B.info("导入排班功能")},be=()=>{$.value=!0},ze=()=>{$.value=!1},De=N(()=>{const a=O.value.length,e=k.value.length,t=r.value.length>0?(r.value.filter(l=>l.status==="正常").length/r.value.length*100).toFixed(1):"0.0";return[{label:"班次1排班量",value:`${a*2}+`,trend:"up",unit:""},{label:"班次2排班量",value:`${a}`,trend:"up",unit:"个"},{label:"班次3排班量",value:`${e}`,trend:"up",unit:"个"},{label:"出勤率",value:`${t}%`,trend:"up",unit:""}]}),U=N(()=>{const a=[],e=[],t=[];for(let l=6;l>=0;l--){const h=new Date;h.setDate(h.getDate()-l);const D=j(h);a.push(D);const z=G(D);e.push(Math.floor(z?Math.random()*5e4+1e4:Math.random()*3e4)),t.push(Math.floor(z?Math.random()*3e4+5e3:Math.random()*2e4))}return{dates:a,shift1Data:e,shift2Data:t}}),F=N(()=>{const a=U.value.dates,e=[],t=[];return a.forEach(()=>{e.push(Math.floor(Math.random()*50+20)),t.push(Math.floor(Math.random()*30+10))}),{dates:a,shift1Attendance:e,shift2Attendance:t}}),re=N(()=>{const a=O.value.filter(h=>h.positions.includes("岗位1")).length*2,e=O.value.filter(h=>h.positions.includes("岗位2")).length*2,t=O.value.length*3,l=a+e+t;return[{name:"班次1",value:a,color:"#1890ff",percentage:(a/l*100).toFixed(1)},{name:"班次2",value:e,color:"#52c41a",percentage:(e/l*100).toFixed(1)},{name:"班次3",value:t,color:"#722ed1",percentage:(t/l*100).toFixed(1)}]}),Ce=p([{text:"排班调整",size:32,color:"#1890ff"},{text:"考勤异常",size:28,color:"#ff4d4f"},{text:"人员调配",size:26,color:"#52c41a"},{text:"班次安排",size:24,color:"#fa8c16"},{text:"岗位分配",size:22,color:"#722ed1"},{text:"请假申请",size:20,color:"#13c2c2"},{text:"加班统计",size:18,color:"#eb2f96"},{text:"出勤率",size:16,color:"#f5222d"},{text:"工作状态",size:14,color:"#2f54eb"},{text:"任务分配",size:12,color:"#faad14"}]),Te=a=>{B.success("保存成功"),X.value=!1},Ne=N(()=>{const a=S.value.getFullYear(),e=S.value.getMonth()+1;return`${a}年${e}月`}),Me=N(()=>{const a=S.value.getFullYear(),e=S.value.getMonth(),t=new Date(a,e,1),l=new Date(a,e+1,0),h=t.getDay(),D=l.getDate(),z=[],se=new Date(a,e,0).getDate();for(let w=h-1;w>=0;w--){const C=new Date(a,e-1,se-w),T=j(C),m=G(T);z.push({day:C.getDate(),date:C,dateStr:T,otherMonth:!0,isToday:!1,schedules:(m==null?void 0:m.positions)||[],colors:(m==null?void 0:m.colors)||[]})}const Pe=new Date;for(let w=1;w<=D;w++){const C=new Date(a,e,w),T=j(C),m=G(T),Fe=T===j(Pe);z.push({day:w,date:C,dateStr:T,otherMonth:!1,isToday:Fe,schedules:(m==null?void 0:m.positions)||[],colors:(m==null?void 0:m.colors)||[]})}const Ae=42-z.length;for(let w=1;w<=Ae;w++){const C=new Date(a,e+1,w),T=j(C),m=G(T);z.push({day:w,date:C,dateStr:T,otherMonth:!0,isToday:!1,schedules:(m==null?void 0:m.positions)||[],colors:(m==null?void 0:m.colors)||[]})}return z}),$e=N(()=>{const a=V.value.trim(),e=K.value,t=I.value,l=t?j(new Date(t)):"";return k.value.filter(h=>{const D=!a||h.task.includes(a)||h.personnel.includes(a)||h.post.includes(a),z=!e||h.workStatus===e,se=!l||h.workTime.includes(l);return D&&z&&se})}),Ue=N(()=>{const{page:a,pageSize:e}=d.value,t=$e.value;d.value.itemCount=t.length;const l=(a-1)*e,h=l+e;return t.slice(l,h)});return(a,e)=>(i(),u("div",Ge,[e[38]||(e[38]=s("div",{class:"page-title"},"排班调度",-1)),n(o(je),{value:R.value,"onUpdate:value":e[13]||(e[13]=t=>R.value=t),type:"line",class:"scheduling-tabs"},{default:c(()=>[n(o(ae),{name:"schedule",tab:"排班表"},{default:c(()=>[$.value?(i(),u("div",Je,[s("div",Ze,[n(o(_),{text:"",onClick:ze,class:"back-btn"},{icon:c(()=>[n(o(A),{icon:"ri:arrow-left-line"})]),default:c(()=>[e[15]||(e[15]=s("span",null,"统计分析",-1))]),_:1})]),s("div",et,[(i(!0),u(b,null,x(De.value,(t,l)=>(i(),u("div",{key:l,class:"metric-card"},[s("div",tt,f(t.label),1),s("div",st,[s("span",at,f(t.value),1),t.unit?(i(),u("span",lt,f(t.unit),1)):fe("",!0),s("span",ot,[n(o(A),{icon:"ri:arrow-up-line",class:"trend-up"})])])]))),128))]),s("div",nt,[s("div",it,[e[20]||(e[20]=s("div",{class:"chart-title"},"工作量分布 (近7日)",-1)),s("div",rt,[(i(),u("svg",dt,[e[18]||(e[18]=s("line",{x1:"50",y1:"20",x2:"50",y2:"280",stroke:"#e0e0e0","stroke-width":"1"},null,-1)),e[19]||(e[19]=s("line",{x1:"50",y1:"280",x2:"550",y2:"280",stroke:"#e0e0e0","stroke-width":"1"},null,-1)),(i(),u(b,null,x([0,10,20,30,40,50,60],(t,l)=>s("text",{key:l,x:45,y:280-l*43,"text-anchor":"end",fill:"#666","font-size":"12"},f(t)+"k ",9,ut)),64)),(i(!0),u(b,null,x(U.value.dates,(t,l)=>(i(),u("text",{key:l,x:50+l*71.4+35,y:"295","text-anchor":"middle",fill:"#666","font-size":"11"},f(t.slice(5)),9,ct))),128)),s("polyline",{points:U.value.dates.map((t,l)=>`${50+l*71.4+35},${280-U.value.shift1Data[l]/1e3*4.3}`).join(" "),fill:"none",stroke:"#52c41a","stroke-width":"2"},null,8,pt),s("polyline",{points:U.value.dates.map((t,l)=>`${50+l*71.4+35},${280-U.value.shift2Data[l]/1e3*4.3}`).join(" "),fill:"none",stroke:"#1890ff","stroke-width":"2"},null,8,vt),s("g",ft,[e[16]||(e[16]=s("circle",{cx:"0",cy:"0",r:"4",fill:"#52c41a"},null,-1)),s("text",ht,"班次1 "+f(U.value.shift1Data.reduce((t,l)=>t+l,0).toLocaleString()),1),e[17]||(e[17]=s("circle",{cx:"0",cy:"20",r:"4",fill:"#1890ff"},null,-1)),s("text",mt,"班次2 "+f(U.value.shift2Data.reduce((t,l)=>t+l,0).toLocaleString()),1)])]))])]),s("div",gt,[e[25]||(e[25]=s("div",{class:"chart-title"},"出勤情况 (近7日)",-1)),s("div",kt,[(i(),u("svg",yt,[e[23]||(e[23]=s("line",{x1:"50",y1:"20",x2:"50",y2:"280",stroke:"#e0e0e0","stroke-width":"1"},null,-1)),e[24]||(e[24]=s("line",{x1:"50",y1:"280",x2:"550",y2:"280",stroke:"#e0e0e0","stroke-width":"1"},null,-1)),(i(),u(b,null,x([0,10,20,30,40,50,60],(t,l)=>s("text",{key:l,x:45,y:280-l*43,"text-anchor":"end",fill:"#666","font-size":"12"},f(t)+"k ",9,wt)),64)),(i(!0),u(b,null,x(F.value.dates,(t,l)=>(i(),u("text",{key:l,x:50+l*71.4+35,y:"295","text-anchor":"middle",fill:"#666","font-size":"11"},f(t.slice(5)),9,_t))),128)),s("polyline",{points:F.value.dates.map((t,l)=>`${50+l*71.4+35},${280-F.value.shift1Attendance[l]*4.3}`).join(" "),fill:"none",stroke:"#52c41a","stroke-width":"2"},null,8,St),s("polyline",{points:F.value.dates.map((t,l)=>`${50+l*71.4+35},${280-F.value.shift2Attendance[l]*4.3}`).join(" "),fill:"none",stroke:"#1890ff","stroke-width":"2"},null,8,xt),s("g",bt,[e[21]||(e[21]=s("circle",{cx:"0",cy:"0",r:"4",fill:"#52c41a"},null,-1)),s("text",zt,"班次1 "+f(F.value.shift1Attendance.reduce((t,l)=>t+l,0)),1),e[22]||(e[22]=s("circle",{cx:"0",cy:"20",r:"4",fill:"#1890ff"},null,-1)),s("text",Dt,"班次2 "+f(F.value.shift2Attendance.reduce((t,l)=>t+l,0)),1)])]))])]),s("div",Ct,[e[29]||(e[29]=s("div",{class:"chart-title"},"班次分布",-1)),s("div",Tt,[(i(),u("svg",Nt,[e[28]||(e[28]=s("defs",null,[s("filter",{id:"shadow"},[s("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3","flood-opacity":"0.1"})])],-1)),s("g",Mt,[e[26]||(e[26]=s("circle",{cx:"0",cy:"0",r:"60",fill:"#f5f5f5"},null,-1)),e[27]||(e[27]=s("text",{x:"0",y:"-5","text-anchor":"middle",fill:"#333","font-size":"14","font-weight":"500"},"总数据",-1)),s("text",$t,f(re.value.reduce((t,l)=>t+l.value,0).toLocaleString()),1)])])),s("div",Ut,[(i(!0),u(b,null,x(re.value,(t,l)=>(i(),u("div",{key:l,class:"legend-item"},[s("span",{class:"legend-dot",style:le({backgroundColor:t.color})},null,4),s("span",Pt,f(t.name)+" "+f(t.value),1)]))),128))])])]),s("div",At,[e[30]||(e[30]=s("div",{class:"chart-title"},"热点问题",-1)),s("div",Ft,[(i(!0),u(b,null,x(Ce.value,(t,l)=>(i(),u("span",{key:l,class:"word-item",style:le({fontSize:`${t.size}px`,color:t.color,fontWeight:t.size>24?600:400})},f(t.text),5))),128))])])])])):(i(),u("div",Bt,[s("div",Rt,[s("div",It,[n(o(W),{value:Y.value,"onUpdate:value":e[0]||(e[0]=t=>Y.value=t),placeholder:"搜索排班",clearable:"",class:"search-input"},{prefix:c(()=>[n(o(A),{icon:"ri:search-line"})]),_:1},8,["value"]),s("div",jt,[n(o(E),{value:L.value,"onUpdate:value":e[1]||(e[1]=t=>L.value=t),type:"date",placeholder:"开始日期",clearable:"",class:"date-picker"},null,8,["value"]),e[31]||(e[31]=s("span",{class:"date-separator"},"-",-1)),n(o(E),{value:y.value,"onUpdate:value":e[2]||(e[2]=t=>y.value=t),type:"date",placeholder:"结束日期",clearable:"",class:"date-picker"},null,8,["value"])])]),s("div",Yt,[n(o(_),{onClick:xe,class:"action-btn"},{default:c(()=>e[32]||(e[32]=[M(" 导入排班 ")])),_:1}),n(o(_),{type:"primary",onClick:Se,class:"action-btn"},{icon:c(()=>[n(o(A),{icon:"ri:add-line"})]),default:c(()=>[e[33]||(e[33]=M(" 新增排班 "))]),_:1}),n(o(_),{onClick:be,class:"action-btn"},{default:c(()=>e[34]||(e[34]=[M(" 统计分析 ")])),_:1})])]),s("div",Lt,[n(o(_),{size:"small",onClick:ye},{default:c(()=>e[35]||(e[35]=[M("上个月")])),_:1}),n(o(_),{size:"small",onClick:_e},{default:c(()=>e[36]||(e[36]=[M("今天")])),_:1}),n(o(_),{size:"small",onClick:we},{default:c(()=>e[37]||(e[37]=[M("下个月")])),_:1}),s("div",Vt,f(Ne.value),1)]),s("div",Kt,[s("div",Ot,[s("div",Et,[(i(),u(b,null,x(["日","一","二","三","四","五","六"],t=>s("div",{class:"weekday",key:t},f(t),1)),64))]),s("div",Wt,[(i(!0),u(b,null,x(Me.value,(t,l)=>(i(),u("div",{key:l,class:Ie(["calendar-day",{"other-month":t.otherMonth,today:t.isToday}])},[s("div",qt,f(t.day),1),s("div",Ht,[(i(!0),u(b,null,x(t.schedules,(h,D)=>(i(),u("div",{key:D,class:"schedule-item",style:le({"--item-color":t.colors[D]||ke[h]||"#1890ff"})},f(h),5))),128))])],2))),128))])])])]))]),_:1}),n(o(ae),{name:"attendance",tab:"考勤统计"},{default:c(()=>[s("div",Qt,[s("div",Xt,[n(o(W),{value:q.value,"onUpdate:value":e[3]||(e[3]=t=>q.value=t),placeholder:"搜索排班",clearable:"",class:"filter-input"},{prefix:c(()=>[n(o(A),{icon:"ri:search-line"})]),_:1},8,["value"]),n(o(oe),{value:H.value,"onUpdate:value":e[4]||(e[4]=t=>H.value=t),options:J,placeholder:"考勤状态",clearable:"",class:"filter-select"},null,8,["value"]),n(o(E),{value:Q.value,"onUpdate:value":e[5]||(e[5]=t=>Q.value=t),type:"date",placeholder:"请选择日期",clearable:"",class:"filter-date"},null,8,["value"])]),s("div",Gt,[n(o(ue),{columns:me,data:r.value,pagination:!1,bordered:!0,striped:""},null,8,["data"])]),s("div",Jt,[s("div",Zt,"共"+f(g.value.itemCount)+"条",1),n(o(ce),{page:g.value.page,"onUpdate:page":[e[6]||(e[6]=t=>g.value.page=t),g.value.onChange],"page-size":g.value.pageSize,"onUpdate:pageSize":[e[7]||(e[7]=t=>g.value.pageSize=t),g.value.onUpdatePageSize],"item-count":g.value.itemCount,"page-sizes":g.value.pageSizes,"show-size-picker":""},null,8,["page","page-size","item-count","page-sizes","onUpdate:page","onUpdate:pageSize"])])])]),_:1}),n(o(ae),{name:"personnel",tab:"人员管理"},{default:c(()=>[s("div",es,[s("div",ts,[n(o(W),{value:V.value,"onUpdate:value":e[8]||(e[8]=t=>V.value=t),placeholder:"搜索人员",clearable:"",class:"filter-input"},{prefix:c(()=>[n(o(A),{icon:"ri:search-line"})]),_:1},8,["value"]),n(o(oe),{value:K.value,"onUpdate:value":e[9]||(e[9]=t=>K.value=t),options:v,placeholder:"工作状态",clearable:"",class:"filter-select"},null,8,["value"]),n(o(E),{value:I.value,"onUpdate:value":e[10]||(e[10]=t=>I.value=t),type:"date",placeholder:"请选择上班时间",clearable:"",class:"filter-date"},null,8,["value"])]),s("div",ss,[n(o(ue),{columns:ge,data:Ue.value,pagination:!1,bordered:!0,striped:""},null,8,["data"])]),s("div",as,[s("div",ls,"共"+f(d.value.itemCount)+"条",1),n(o(ce),{page:d.value.page,"onUpdate:page":[e[11]||(e[11]=t=>d.value.page=t),d.value.onChange],"page-size":d.value.pageSize,"onUpdate:pageSize":[e[12]||(e[12]=t=>d.value.pageSize=t),d.value.onUpdatePageSize],"item-count":d.value.itemCount,"page-sizes":d.value.pageSizes,"show-size-picker":""},null,8,["page","page-size","item-count","page-sizes","onUpdate:page","onUpdate:pageSize"])])])]),_:1})]),_:1},8,["value"]),n(Xe,{show:X.value,"onUpdate:show":e[14]||(e[14]=t=>X.value=t),schedule:ie.value,onSave:Te},null,8,["show","schedule"])]))}});const vs=he(os,[["__scopeId","data-v-dd97a36d"]]);export{vs as default};
